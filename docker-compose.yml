version: '3.5'
services:
    mongo:
        image: mongo:3.6.17-xenial
        restart: always
        volumes:
            - /Users/samisdat/repos/zoo/mongo-data:/data/db

    mongo-express:
        image: mongo-express
        restart: always
        ports:
            - 8081:8081

    api:
        image: zoo:latest
        volumes:
            - /Users/samisdat/repos/zoo/api:/home/node/app
            - /Users/samisdat/repos/zoo/frontend:/home/node/frontend
        ports:
            - 3000:3000
            - 3001:3001
        links:
            - mongo:mongo

    backend:
        image: zoo-backend:latest
        volumes:
            - /Users/samisdat/repos/zoo/backend:/home/node/app
        ports:
            - 3003:3003
        links:
            - mongo:mongo
